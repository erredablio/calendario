Este guia da API, tal como todo o cÃ³digo aqui criado, foram gerados pelo Copilot da Microsot ğŸš€

# ğŸ“Œ Guia da API - CalendÃ¡rio API

## ğŸ“¢ IntroduÃ§Ã£o
Esta API permite o gerenciamento de usuÃ¡rios e tarefas. Apenas **usuÃ¡rios administradores (`admin`)** podem gerenciar usuÃ¡rios, enquanto **usuÃ¡rios comuns (`common`)** tÃªm permissÃµes restritas.

---

## ğŸ”¹ InicializaÃ§Ã£o do Projeto  
Para rodar a API localmente, siga os passos:

### **1ï¸âƒ£ Instalar dependÃªncias**
```bash
pip install -r requirements.txt
2ï¸âƒ£ Configurar banco de dados
bash
flask db migrate
flask db upgrade
3ï¸âƒ£ Rodar o servidor
bash
python3 app.py
Agora a API estarÃ¡ disponÃ­vel em:
http://127.0.0.1:5000
ğŸ” DiferenÃ§a entre usuÃ¡rios admin e common
Admin: Pode listar, criar e modificar usuÃ¡rios (incluindo role).
Common: Pode modificar apenas suas prÃ³prias informaÃ§Ãµes e nÃ£o pode alterar a role.
Tokens JWT: Ambos os tipos de usuÃ¡rios recebem tokens JWT, mas o role define os nÃ­veis de acesso.
ğŸ“Œ Endpoints da API

1ï¸âƒ£ Registro de UsuÃ¡rio (POST /register)
Cria um novo usuÃ¡rio com dados adicionais.
json
POST /register
Headers: 
    Authorization: None
    Content-Type: application/json
Body:
{
    "username": "usuario_teste",
    "password": "senha_segura",
    "role": "common",
    "full_name": "Nome Completo",
    "gender": "male",
    "email": "usuario@email.com",
    "phone": "+55 99999-9999",
    "profile_picture": "https://example.com/foto.jpg"
}
âœ… Resposta de sucesso (201):
json
{"msg": "UsuÃ¡rio registrado com sucesso"}
âŒ UsuÃ¡rio jÃ¡ existe (400):
json
{"msg": "UsuÃ¡rio jÃ¡ existe"}
2ï¸âƒ£ Login (POST /login)
Autentica um usuÃ¡rio e gera um JWT.
json
POST /login
Headers: 
    Authorization: None
    Content-Type: application/json
Body:
{
    "username": "usuario_teste",
    "password": "senha_segura"
}
âœ… Resposta de sucesso (200):
json
{
    "access_token": "eyJh...token_exemplo..."
}
âŒ Credenciais invÃ¡lidas (401):
json
{"msg": "Credenciais invÃ¡lidas"}
3ï¸âƒ£ Listagem de UsuÃ¡rios (GET /users)
ğŸ”¹ Apenas usuÃ¡rios admin podem acessar.
json
GET /users
Headers: 
    Authorization: Bearer SEU_TOKEN_ADMIN
âœ… Resposta de sucesso (200):
json
[
    {
        "id": "1234",
        "username": "admin_user",
        "role": "admin",
        "email": "admin@email.com",
        "active": true
    },
    {
        "id": "5678",
        "username": "user_common",
        "role": "common",
        "email": "user@email.com",
        "active": true
    }
]
âŒ UsuÃ¡rio sem permissÃ£o (403):
json
{"msg": "Acesso negado"}
4ï¸âƒ£ AtualizaÃ§Ã£o de UsuÃ¡rio (PUT /users/<user_id>)
ğŸ”¹ UsuÃ¡rios comuns podem atualizar suas prÃ³prias informaÃ§Ãµes. ğŸ”¹ Apenas admins podem alterar role.
json
PUT /users/1234
Headers: 
    Authorization: Bearer SEU_TOKEN
    Content-Type: application/json
Body:
{
    "full_name": "Novo Nome",
    "email": "novo@email.com",
    "phone": "+55 99999-9999",
    "profile_picture": "https://example.com/foto.jpg",
    "password": "nova_senha"
}
âœ… Resposta de sucesso (200):
json
{"msg": "UsuÃ¡rio atualizado"}
âŒ Acesso negado (403):
json
{"msg": "Acesso negado"}
5ï¸âƒ£ Desativar UsuÃ¡rio (PUT /users/<user_id>/deactivate)
ğŸ”¹ Apenas usuÃ¡rios admin podem desativar um usuÃ¡rio.
json
PUT /users/1234/deactivate
Headers: 
    Authorization: Bearer SEU_TOKEN_ADMIN
âœ… Resposta de sucesso (200):
json
{"msg": "UsuÃ¡rio desativado"}
âŒ UsuÃ¡rio sem permissÃ£o (403):
json
{"msg": "Acesso negado"}
6ï¸âƒ£ Criar Tarefa (POST /tasks)
Cria uma nova tarefa associada ao usuÃ¡rio logado.
json
POST /tasks
Headers: 
    Authorization: Bearer SEU_TOKEN
    Content-Type: application/json
Body:
{
    "event_date": "2025-05-24",
    "description": "ReuniÃ£o de planejamento"
}
âœ… Resposta de sucesso (201):
json
{"msg": "Tarefa criada"}
7ï¸âƒ£ Listar Tarefas (GET /tasks)
ğŸ”¹ UsuÃ¡rios podem visualizar apenas suas prÃ³prias tarefas.
json
GET /tasks
Headers: 
    Authorization: Bearer SEU_TOKEN
âœ… Resposta de sucesso (200):
json
[
    {
        "id": "task_123",
        "event_date": "2025-05-24",
        "description": "ReuniÃ£o de planejamento"
    }
]
8ï¸âƒ£ Excluir Tarefa (DELETE /tasks/<task_id>)
ğŸ”¹ UsuÃ¡rios podem excluir apenas suas prÃ³prias tarefas.
json
DELETE /tasks/task_123
Headers: 
    Authorization: Bearer SEU_TOKEN
âœ… Resposta de sucesso (200):
json
{"msg": "Tarefa excluÃ­da"}

## ğŸ” ConfiguraÃ§Ã£o do `.env`  

Para garantir seguranÃ§a, a API utiliza um arquivo **`.env`** para armazenar **credenciais sensÃ­veis** como JWT Secret Key.

### **1ï¸âƒ£ Criar o arquivo `.env`**
No diretÃ³rio raiz do projeto, crie um arquivo `.env`:
```ini
JWT_SECRET_KEY=super_seguro_token_aleatorio_12345
